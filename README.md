# 设计模式
设计模式分为三种类型，共23种
- **创建型模式**：单例模式、抽象工厂模式、建造者模式、工厂模式、原型模式。
- **结构型模式**：适配器模式、桥接模式、装饰模式、组合模式、外观模式、享元模式、代理模式
- **行为型模式**：模版方法模式、命令模式、迭代器模式、观察者模式、中介者模式、备忘录模式、解释器模式、状态模式、策略模式、职责链模式(责任链模式)、访问者模式。

## 常用设计模式的详解

### 观察者模式 (行为型)

[观察者代码示例](src/main/java/observer)

理解：类似于一种 `发布 + 订阅` 的方式
- 观察者订阅主题 代码中的表现一般是 :
    - 主题包含一个订阅者（观察者）的集合
    - 主题中的方法添加(或删除)观察者
- 当主题有消息的时候，主题会通知观察者，代码中的表现：
    - 主题 通知所有的观察者

**一些自己的思考**
- 被观察者通知观察者的时候有两种方式
    - 推：
    - 直接将值传入，通知观察者具体内容
    - 拉：
    - 传入被观察者自己的引用，这一步操作可以让观察者根据自己需要的内容从被观察者的对象里取出东西


JDK也有自己的观察者模式
- 被观察者
    - `java.util.Observable`
- 观察者
    - `java.util.Observer`
    
平常自己设计的时候可能有推有拉，但是jdk的设计是即包含推也包含拉

### 工厂模式

#### 简单工厂
**工厂根据类型创建不同的东西，需要被创建的东西抽象一下**
简单工厂可以理解成根据类型创建
- 工厂是一个类，而不是一个接口
- 被创建出来的内容可以设计成接口
    - 工厂 根据type来分辨 如何创建（多态的一种思路）

#### 工厂方法 
**再把工厂抽象一下，一种工厂对应一种东西**
工厂也被抽象出来，工厂和工厂创建的内容都是抽象的
- 一般情况下，每个具体的工厂，创建具体的内容
- 有点类似根据 不同的类型的工厂 创建不同的内容

#### 抽象工厂
**分合的思路**
- 抽象的工厂接口，包含了需要创建的对象的各个部分
    - 重点：需要创建的对象的各个部分
    - 各个部分也可以用接口表示
    - 从工厂接口来看，就是一个接口包含多个部分
    - 对象的各个部分在设计的时候最好是平级的关系
- 现实的例子就是，台式电脑由不同的组件组合而成
    - 台式电脑是一个大的抽象
    - 抽象的分成 cpu 主板 电源 显卡
    - 每种类型的电脑接口实现类都可以生产出自己指定的 cpu 主板 电源 显卡

#### 适配器模式
**总体思路**
- 目标接口  Target 包含了一系列方法
- 原来的类 `Adaptee extends Target` 
    - Adaptee这个类是要被适配的
- Adapter适配进行适配
    1. 直接继承 Adaptee 进行适配
    2. 包含一个 Adaptee 的引用进行适配


问题思考
- `适配器模式` 和 `代理`、`装饰模式` 有什么区别
    - 适配器侧重点是**改变**
    - 代理侧重点是改变**访问**
    - 装饰侧重点是**增强**

